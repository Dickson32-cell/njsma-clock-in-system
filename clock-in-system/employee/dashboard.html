<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Account - NJSMA Staff</title>
  <link rel="stylesheet" href="../css/styles.css" />
  <script src="../js/scripts.js" defer></script>
</head>
<body>
  <header>
    <div class="logo">
      <img src="../assets/logo.png" alt="New Juaben South Municipal Assembly Logo" />
    </div>
    <nav>
      <ul>
        <li><a href="dashboard.html" class="active">My Dashboard</a></li>
        <li><a href="attendance-history.html">My Attendance</a></li>
        <li><a href="leave-request.html">Leave Requests</a></li>
        <li><a href="../index.html" onclick="logoutStaff()">Logout</a></li>
      </ul>
    </nav>
  </header>
  <main>
    <div class="container">
      <!-- Staff Welcome Section -->
      <section class="staff-welcome-section">
        <div class="welcome-card">
          <h2 id="staffWelcome">👋 Welcome Back, Staff Member!</h2>
          <div class="staff-info" id="staffInfo">
            <div class="info-item">
              <span class="info-label">Staff ID:</span>
              <span class="info-value" id="displayStaffId">--</span>
            </div>
            <div class="info-item">
              <span class="info-label">Name:</span>
              <span class="info-value" id="displayStaffName">--</span>
            </div>
            <div class="info-item">
              <span class="info-label">Today's Date:</span>
              <span class="info-value" id="displayTodayDate">--</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Real-time Clock Display -->
      <div class="clock-display" role="region" aria-label="Current time and date" aria-live="polite">
        <div class="current-time" id="currentTime" aria-label="Current time">--:--:--</div>
        <div class="current-date" id="currentDate" aria-label="Current date">Loading...</div>
      </div>

      <!-- Today's Attendance Status -->
      <section class="today-status-section">
        <div class="status-card">
          <h3>📊 Today's Attendance Status</h3>
          <div class="attendance-status" id="todayAttendanceStatus">
            <div class="status-item">
              <span class="status-label">Clock In:</span>
              <span class="status-value" id="todayClockIn">Not Clocked In</span>
            </div>
            <div class="status-item">
              <span class="status-label">Clock Out:</span>
              <span class="status-value" id="todayClockOut">--</span>
            </div>
            <div class="status-item">
              <span class="status-label">Work Duration:</span>
              <span class="status-value" id="todayWorkDuration">--</span>
            </div>
            <div class="status-item">
              <span class="status-label">Status:</span>
              <span class="status-value" id="todayStatus">Pending</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Quick Actions -->
      <section class="quick-actions-section">
        <h3>⚡ Quick Actions</h3>
        <div class="actions-grid">
          <!-- Clock In/Out Card -->
          <div class="action-card" id="clockInOutCard">
            <div class="card-icon">🕐</div>
            <h4>Clock In/Out</h4>
            <p>Record your attendance for today</p>
            <button class="action-btn primary-btn" id="clockInOutBtn" onclick="handleClockInOut()">
              <span class="btn-icon" id="clockBtnIcon">🕐</span>
              <span class="btn-text" id="clockBtnText">Clock In</span>
            </button>
            <div id="clockMessage" class="action-message"></div>
          </div>

          <!-- Attendance Report Card -->
          <div class="action-card">
            <div class="card-icon">📊</div>
            <h4>My Attendance Report</h4>
            <p>View and print your attendance statistics</p>
            <button class="action-btn secondary-btn" onclick="generateAttendanceReport()">
              <span class="btn-icon">📋</span>
              <span class="btn-text">View Report</span>
            </button>
          </div>

          <!-- Leave Request Card -->
          <div class="action-card">
            <div class="card-icon">📝</div>
            <h4>Request Leave</h4>
            <p>Submit leave request for approval</p>
            <button class="action-btn tertiary-btn" onclick="requestLeave()">
              <span class="btn-icon">📄</span>
              <span class="btn-text">Request Leave</span>
            </button>
          </div>

          <!-- Profile Settings Card -->
          <div class="action-card">
            <div class="card-icon">⚙️</div>
            <h4>Account Settings</h4>
            <p>Update your account preferences</p>
            <button class="action-btn quaternary-btn" onclick="openAccountSettings()">
              <span class="btn-icon">🔧</span>
              <span class="btn-text">Settings</span>
            </button>
          </div>
        </div>
      </section>

      <!-- Attendance Summary -->
      <section class="attendance-summary-section">
        <div class="summary-card">
          <h3>📈 This Month's Summary</h3>
          <div class="summary-grid" id="monthSummary">
            <div class="summary-item">
              <div class="summary-value" id="daysPresent">--</div>
              <div class="summary-label">Days Present</div>
            </div>
            <div class="summary-item">
              <div class="summary-value" id="daysLate">--</div>
              <div class="summary-label">Late Arrivals</div>
            </div>
            <div class="summary-item">
              <div class="summary-value" id="daysAbsent">--</div>
              <div class="summary-label">Days Absent</div>
            </div>
            <div class="summary-item">
              <div class="summary-value" id="leavesTaken">--</div>
              <div class="summary-label">Leaves Taken</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Location Notice -->
      <div class="location-notice">
        <h4>📍 Important Notice</h4>
        <p>
          • Clock-in deadline: <strong>10:00 AM daily</strong><br>
          • You must be within Assembly premises (EN-010-4770)<br>
          • Late arrivals after 10:00 AM will be recorded as absent<br>
          • Contact HR for any attendance-related queries
        </p>
      </div>
    </div>
  </main>
  <footer>
    <p>&copy; 2025 New Juaben South Municipal Assembly. All rights reserved.</p>
  </footer>
</body>
</html>